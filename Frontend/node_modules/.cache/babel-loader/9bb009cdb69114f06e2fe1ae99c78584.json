{"ast":null,"code":"import _defineProperty from\"C:/Users/Mads T.F. Knudsen/Documents/GitHub/3.Sem-Kode-Eksame/Frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Mads T.F. Knudsen/Documents/GitHub/3.Sem-Kode-Eksame/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Mads T.F. Knudsen/Documents/GitHub/3.Sem-Kode-Eksame/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState,useEffect}from'react';import BackendAPI from'./API/BackendAPI';import AuctionListPage from'./Pages/AuctionListPage';import AdminPage from'./Pages/AdminPage';import UserPage from'./Pages/UserPage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LogIn(_ref){var login=_ref.login;var init={username:\"\",password:\"\"};var _useState=useState(init),_useState2=_slicedToArray(_useState,2),loginCredentials=_useState2[0],setLoginCredentials=_useState2[1];var performLogin=function performLogin(event){event.preventDefault();login(loginCredentials.username,loginCredentials.password);};var onChange=function onChange(event){setLoginCredentials(_objectSpread(_objectSpread({},loginCredentials),{},_defineProperty({},event.target.id,event.target.value)));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onChange:onChange,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Name\",id:\"username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Password\",id:\"password\"}),/*#__PURE__*/_jsx(\"button\",{onClick:performLogin,children:\"Login\"})]})]});}function RegisterUser(_ref2){var user=_ref2.user;var init={username:\"\",password:\"\"};var _useState3=useState(init),_useState4=_slicedToArray(_useState3,2),newUserCredentials=_useState4[0],setNewUserCredentials=_useState4[1];var performRegister=function performRegister(event){event.preventDefault();user(newUserCredentials.username,newUserCredentials.password);};var onChange=function onChange(event){setNewUserCredentials(_objectSpread(_objectSpread({},newUserCredentials),{},_defineProperty({},event.target.id,event.target.value)));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register new user\"}),/*#__PURE__*/_jsxs(\"form\",{onChange:onChange,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"New user name\",id:\"username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"New password\",id:\"password\"}),/*#__PURE__*/_jsx(\"button\",{onClick:performRegister,children:\"Register\"})]})]});}function LoggedIn(props){return/*#__PURE__*/_jsx(\"div\",{children:props.user[\"role\"]===\"user\"?/*#__PURE__*/_jsx(UserPage,{}):/*#__PURE__*/_jsx(AdminPage,{})});}function App(){var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loggedIn=_useState6[0],setLoggedIn=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),user=_useState8[0],setUser=_useState8[1];var logout=function logout(){BackendAPI.logout();setLoggedIn(false);};var login=function login(user,pass){BackendAPI.login(user,pass).then(function(response){setLoggedIn(true);setUser(response);});};var newUser=function newUser(user,pass){BackendAPI.register(user,pass);};return/*#__PURE__*/_jsxs(\"div\",{children:[!loggedIn?/*#__PURE__*/_jsx(RegisterUser,{user:newUser}):null,!loggedIn?/*#__PURE__*/_jsx(LogIn,{login:login}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:logout,children:\"Logout\"}),/*#__PURE__*/_jsx(LoggedIn,{user:user})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(AuctionListPage,{})})]});}export default App;","map":{"version":3,"sources":["C:/Users/Mads T.F. Knudsen/Documents/GitHub/3.Sem-Kode-Eksame/Frontend/src/App.jsx"],"names":["React","useState","useEffect","BackendAPI","AuctionListPage","AdminPage","UserPage","LogIn","login","init","username","password","loginCredentials","setLoginCredentials","performLogin","event","preventDefault","onChange","target","id","value","RegisterUser","user","newUserCredentials","setNewUserCredentials","performRegister","LoggedIn","props","App","loggedIn","setLoggedIn","setUser","logout","pass","then","response","newUser","register"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport BackendAPI from './API/BackendAPI';\r\nimport AuctionListPage from './Pages/AuctionListPage';\r\nimport AdminPage from './Pages/AdminPage';\r\nimport UserPage from './Pages/UserPage';\r\n\r\nfunction LogIn({ login }) {\r\n  const init = { username: \"\", password: \"\" };\r\n  const [loginCredentials, setLoginCredentials] = useState(init);\r\n\r\n  const performLogin = (event) => {\r\n    event.preventDefault();\r\n    login(loginCredentials.username, loginCredentials.password);\r\n  }\r\n  const onChange = (event) => {\r\n    setLoginCredentials({ ...loginCredentials, [event.target.id]: event.target.value });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Login</h2>\r\n      <form onChange={onChange}>\r\n        <input type=\"text\" placeholder=\"User Name\" id=\"username\" />\r\n        <input type=\"text\" placeholder=\"Password\" id=\"password\" />\r\n        <button onClick={performLogin}>Login</button>\r\n      </form>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nfunction RegisterUser({ user }) {\r\n  const init = { username: \"\", password: \"\" };\r\n  const [newUserCredentials, setNewUserCredentials] = useState(init);\r\n\r\n  const performRegister = (event) => {\r\n    event.preventDefault();\r\n    user(newUserCredentials.username, newUserCredentials.password);\r\n  }\r\n  const onChange = (event) => {\r\n    setNewUserCredentials({ ...newUserCredentials, [event.target.id]: event.target.value })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Register new user</h2>\r\n      <form onChange={onChange}>\r\n        <input type=\"text\" placeholder=\"New user name\" id=\"username\" />\r\n        <input type=\"text\" placeholder=\"New password\" id=\"password\" />\r\n        <button onClick={performRegister}>Register</button>\r\n      </form>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nfunction LoggedIn(props) {\r\n  return (\r\n    <div>\r\n      {props.user[\"role\"] === \"user\" ? (<UserPage/>) : (<AdminPage/>)}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction App() {\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [user, setUser] = useState(false);\r\n\r\n  const logout = () => {\r\n    BackendAPI.logout()\r\n    setLoggedIn(false)\r\n  }\r\n  const login = (user, pass) => {\r\n    BackendAPI.login(user, pass)\r\n      .then(response => {setLoggedIn(true);\r\n      setUser(response);\r\n      });\r\n  }\r\n  const newUser = (user, pass) => {\r\n    BackendAPI.register(user, pass);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {!loggedIn ? (<RegisterUser user={newUser} />) : null}\r\n      {!loggedIn ? (<LogIn login={login} />) : \r\n      (<div>\r\n        <button onClick={logout}>Logout</button>\r\n        <LoggedIn user={user} />\r\n      </div>)}\r\n      <div>\r\n        <AuctionListPage/>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\nexport default App;"]},"metadata":{},"sourceType":"module"}